{"version":3,"sources":["components/personAlreadyInList.js","components/showPersons.js","components/Person.js","services/persons.js","App.js","index.js"],"names":["personAlreadyInList","persons","newName","map","person","name","includes","showPersons","showAll","show","filter","Person","clickhandler","key","id","number","onClick","baseUrl","axios","get","newObject","post","put","delete","App","useState","setPersons","setNewName","newNumber","setNewNumber","setShow","setShowAll","errorMessage","setErrorMessage","message","setMessage","useEffect","personService","then","response","data","setInfo","text","setTimeout","handleClick","window","confirm","concat","className","value","onChange","event","target","onSubmit","preventDefault","personObject","p","catch","error","type","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d5235fe8.chunk.js","sourcesContent":["\nconst personAlreadyInList = (persons, newName) => (\n    (persons.map(person => person.name).includes(newName))\n  )\n\n  export default personAlreadyInList","\n const showPersons = (showAll, persons, show) => { \n \n    if (showAll === false ){\n        return persons.filter(person => person.name.includes(show))\n      } else {\n        return persons\n      }\n\n }\n export default showPersons","import React from 'react'\n\n\n\nconst Person = ({person, clickhandler}) => {\n    return (\n        <ul key={person.id}> {person.name} {person.number}\n        <button onClick={() => clickhandler(person)}>Delete</button>\n        </ul>\n)}\n\nexport default Person","import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst update = (newObject) => {\n  return axios.put(`${baseUrl}/${newObject.id}`, newObject)\n}\n\nconst del = (id) => {\n    return axios.delete(`${baseUrl}/${id}`)\n  }\n\nexport default { \n  getAll: getAll, \n  create: create, \n  update: update, \n  del: del\n}","import React, { useState, useEffect } from 'react'\nimport personAlreadyInList from './components/personAlreadyInList'\nimport showPersons from './components/showPersons'\nimport Person from './components/Person'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [show, setShow] = useState('')\n  const [showAll, setShowAll] = useState(true)\n  const [errorMessage, setErrorMessage] = useState('')\n  const [message, setMessage] = useState('')\n\n  const Notification = ({ message }) => {\n    if (message === '') {\n      return null\n    }\n\n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n  const Notification2 = ({ message }) => {\n    if (message === '') {\n      return null\n    }\n\n    return (\n      <div className=\"success\">\n        {message}\n      </div>\n    )\n  }\n\n  useEffect(() => {\n\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n\n  }, [])\n\n  const setInfo = (text) => {\n    setMessage(text)\n    setTimeout(() => {\n      setMessage('')\n    }, 5000);\n  }\n\n  const setErrorInfo = (text) => {\n    setErrorMessage(text)\n    setTimeout(() => {\n      setErrorMessage('')\n    }, 5000);\n  }\n\n  const addPerson = (event) => {\n\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n  \n\n    \n      if (personAlreadyInList(persons, newName)){\n        if (window.confirm(`${newName} is already added to phonebook, replace the old number?`)){\n          const p = persons.filter(p => p.name === newName)[0]\n      personObject.id = p.id\n          personService\n          .update(personObject)\n          .then(response => {\n              setPersons(persons.map(person => person.id !== persons.id ? person : response.data))\n              \n          })\n          .then(setInfo(`${personObject.name} changed.`))\n          .catch(error => {\n            setPersons(persons.filter(person => person.id !== personObject.id))\n            \n            setErrorInfo(`Person ${personObject.name} is already removed from database.`)\n          })\n        }\n        setNewName('')\n        setNewNumber('')\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    } else {\n\n      personService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n\n\n          setNewName('')\n          setNewNumber('')\n        })\n      setInfo(`Created ${personObject.name}`)\n    }\n  }\n\n\n\n\n  const handleNameAdding = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberAdding = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilter = (event) => {\n    setShow(event.target.value)\n    if (event.target.value === '') {\n      setShowAll(true)\n    } else {\n      setShowAll(false)\n    }\n\n  }\n\n  const handleClick = (person) => {\n\n\n    if (window.confirm(`Delete ${person.name} ?`)) {\n\n      personService\n        .del(person.id)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setShow('')\n          setShowAll(true)\n        })\n\n      setInfo(`Deleted ${person.name}`)\n    }\n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      \n      <Notification message={errorMessage} />\n      <Notification2 message={message} />\n      <div>\n        <form>\n          Filter shown with <input value={show}\n            onChange={handleFilter} /> </form>\n\n      </div>\n\n      <div>\n        <h3>Add new</h3>\n        <form onSubmit={addPerson}>\n          <div>\n            name: <input value={newName}\n              onChange={handleNameAdding} /> </div>\n          <div>number: <input value={newNumber}\n            onChange={handleNumberAdding} /></div>\n\n          <button type=\"submit\">add</button>\n        </form>\n      </div>\n\n      <h2>Numbers</h2>\n\n\n      <form >\n        <div>\n\n          {(showPersons(showAll, persons, show)).map(person => <Person key={person.id} person={person} clickhandler={handleClick} />\n          )}\n\n\n        </div>\n      </form>\n\n\n    </div>\n  )\n\n}\n\n\nexport default App\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}