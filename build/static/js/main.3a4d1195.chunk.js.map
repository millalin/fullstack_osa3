{"version":3,"sources":["components/personAlreadyInList.js","components/showPersons.js","components/Person.js","services/persons.js","App.js","index.js"],"names":["personAlreadyInList","persons","newName","map","person","name","includes","showPersons","showAll","show","filter","Person","clickhandler","key","id","number","onClick","baseUrl","axios","get","newObject","post","put","delete","App","useState","setPersons","setNewName","newNumber","setNewNumber","setShow","setShowAll","errorMessage","setErrorMessage","message","setMessage","useEffect","personService","then","response","data","setInfo","text","setTimeout","setErrorInfo","handleClick","window","confirm","concat","className","value","onChange","event","target","onSubmit","preventDefault","personObject","p","catch","error","type","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3a4d1195.chunk.js","sourcesContent":["\nconst personAlreadyInList = (persons, newName) => (\n    (persons.map(person => person.name).includes(newName))\n  )\n\n  export default personAlreadyInList","\n const showPersons = (showAll, persons, show) => { \n \n    if (showAll === false ){\n        return persons.filter(person => person.name.includes(show))\n      } else {\n        return persons\n      }\n\n }\n export default showPersons","import React from 'react'\n\n\n\nconst Person = ({person, clickhandler}) => {\n    return (\n        <ul key={person.id}> {person.name} {person.number}\n        <button onClick={() => clickhandler(person)}>Delete</button>\n        </ul>\n)}\n\nexport default Person","import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst update = (newObject) => {\n  return axios.put(`${baseUrl}/${newObject.id}`, newObject)\n}\n\nconst del = (id) => {\n    return axios.delete(`${baseUrl}/${id}`)\n  }\n\nexport default { \n  getAll: getAll, \n  create: create, \n  update: update, \n  del: del\n}","import React, { useState, useEffect } from 'react'\nimport personAlreadyInList from './components/personAlreadyInList'\nimport showPersons from './components/showPersons'\nimport Person from './components/Person'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [show, setShow] = useState('')\n  const [showAll, setShowAll] = useState(true)\n  const [errorMessage, setErrorMessage] = useState('')\n  const [message, setMessage] = useState('')\n\n  const Notification = ({ message }) => {\n    if (message === '') {\n      return null\n    }\n\n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n  const Notification2 = ({ message }) => {\n    if (message === '') {\n      return null\n    }\n\n    return (\n      <div className=\"success\">\n        {message}\n      </div>\n    )\n  }\n\n  useEffect(() => {\n\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n\n  }, [])\n\n  const setInfo = (text) => {\n    setMessage(text)\n    setTimeout(() => {\n      setMessage('')\n    }, 5000);\n  }\n\n  const setErrorInfo = (text) => {\n    setErrorMessage(text)\n    setTimeout(() => {\n      setErrorMessage('')\n    }, 5000);\n  }\n\n  const addPerson = (event) => {\n\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n  \n\n\n    if (personAlreadyInList(persons, newName)) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number?`)) {\n        const p = persons.filter(p => p.name === newName)[0]\n        personObject.id = p.id\n        personService\n          .update(personObject)\n          .then(response => {\n            setPersons(persons.map(person => person.id !== persons.id ? person : response.data))\n            setInfo(`${personObject.name} changed.`)\n          })\n\n          .catch(error => {\n            setPersons(persons.filter(person => person.id !== personObject.id))\n\n            setErrorInfo(`Person ${personObject.name} is already removed from database.`)\n          })\n      }\n      setNewName('')\n      setNewNumber('')\n\n    } else {\n\n      personService\n        .create(personObject)\n      \n        .then(response => {\n          setPersons(persons.concat(response.data))\n\nsetInfo(`Created ${personObject.name}`)\n          setNewName('')\n          setNewNumber('')\n        })\n             .catch(error => {\n            \n\n            setErrorInfo('Name must be 3 chars and number atleast 8')\n          })\n      \n    }\n  }\n\n\n\n\n  const handleNameAdding = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberAdding = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilter = (event) => {\n    setShow(event.target.value)\n    if (event.target.value === '') {\n      setShowAll(true)\n    } else {\n      setShowAll(false)\n    }\n\n  }\n\n  const handleClick = (person) => {\n\n\n    if (window.confirm(`Delete ${person.name} ?`)) {\n\n      personService\n        .del(person.id)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setShow('')\n          setShowAll(true)\n        })\n\n      setInfo(`Deleted ${person.name}`)\n    }\n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      \n      <Notification message={errorMessage} />\n      <Notification2 message={message} />\n      <div>\n        <form>\n          Filter shown with <input value={show}\n            onChange={handleFilter} /> </form>\n\n      </div>\n\n      <div>\n        <h3>Add new</h3>\n        <form onSubmit={addPerson}>\n          <div>\n            name: <input value={newName}\n              onChange={handleNameAdding} /> </div>\n          <div>number: <input value={newNumber}\n            onChange={handleNumberAdding} /></div>\n\n          <button type=\"submit\">add</button>\n        </form>\n      </div>\n\n      <h2>Numbers</h2>\n\n\n      <form >\n        <div>\n\n          {(showPersons(showAll, persons, show)).map(person => <Person key={person.id} person={person} clickhandler={handleClick} />\n          )}\n\n\n        </div>\n      </form>\n\n\n    </div>\n  )\n\n}\n\n\nexport default App\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}